{"version":3,"sources":["../../src/transactions/NamespaceCreationTransaction.js"],"names":["NamespaceCreationTransactionBufferPackage","NamespaceCreationTransactionBuffer","default","Buffers","require","flatbuffers","NamespaceCreationTransaction","Builder","fee","version","type","deadline","namespaceType","duration","parentId","namespaceId","namespaceName","builder","namespaceNameLength","convert","utf8ToHex","length","signatureVector","createSignatureVector","Array","map","Number","prototype","valueOf","signerVector","createSignerVector","deadlineVector","createDeadlineVector","feeVector","createFeeVector","parentIdVector","durationParentIdVector","createDurationParentIdVector","namespaceIdVector","createNamespaceIdVector","name","createString","startNamespaceCreationTransactionBuffer","addSize","addSignature","addSigner","addVersion","addType","addFee","addDeadline","addNamespaceType","addDurationParentId","addNamespaceId","addNamespaceNameSize","addNamespaceName","codedNamespace","endNamespaceCreationTransactionBuffer","finish","bytes","asUint8Array","NamespaceCreationTransactionSchema","VerifiableTransaction"],"mappings":"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","file":"NamespaceCreationTransaction.js","sourcesContent":["/*\n * Copyright 2018 NEM\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @module transactions/NamespaceCreationTransaction\n */\nimport VerifiableTransaction from './VerifiableTransaction';\nimport NamespaceCreationTransactionSchema from '../schema/NamespaceCreationTransactionSchema';\nimport convert from '../coders/convert';\nimport * as NamespaceCreationTransactionBufferPackage from '../buffers/NamespaceCreationTransactionBuffer';\n\nconst { NamespaceCreationTransactionBuffer } = NamespaceCreationTransactionBufferPackage.default.Buffers;\n\nconst { flatbuffers } = require('flatbuffers');\n\nexport default class NamespaceCreationTransaction extends VerifiableTransaction {\n\tstatic get Builder() {\n\t\tclass Builder {\n\t\t\tconstructor() {\n\t\t\t\tthis.fee = [0, 0];\n\t\t\t\tthis.version = 36867;\n\t\t\t\tthis.type = 0x414e;\n\t\t\t}\n\n\t\t\taddFee(fee) {\n\t\t\t\tthis.fee = fee;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddVersion(version) {\n\t\t\t\tthis.version = version;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddType(type) {\n\t\t\t\tthis.type = type;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddDeadline(deadline) {\n\t\t\t\tthis.deadline = deadline;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddNamespaceType(namespaceType) {\n\t\t\t\tthis.namespaceType = namespaceType;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddDuration(duration) {\n\t\t\t\tthis.duration = duration;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddParentId(parentId) {\n\t\t\t\tthis.parentId = parentId;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddNamespaceId(namespaceId) {\n\t\t\t\tthis.namespaceId = namespaceId;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddNamespaceName(namespaceName) {\n\t\t\t\tthis.namespaceName = namespaceName;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tbuild() {\n\t\t\t\tconst builder = new flatbuffers.Builder(1);\n\n\t\t\t\tconst namespaceNameLength = convert.utf8ToHex(this.namespaceName).length / 2;\n\n\t\t\t\t// create vectors\n\t\t\t\tconst signatureVector = NamespaceCreationTransactionBuffer\n\t\t\t\t\t.createSignatureVector(builder, Array(...Array(64)).map(Number.prototype.valueOf, 0));\n\t\t\t\tconst signerVector = NamespaceCreationTransactionBuffer\n\t\t\t\t\t.createSignerVector(builder, Array(...Array(32)).map(Number.prototype.valueOf, 0));\n\t\t\t\tconst deadlineVector = NamespaceCreationTransactionBuffer\n\t\t\t\t\t.createDeadlineVector(builder, this.deadline);\n\t\t\t\tconst feeVector = NamespaceCreationTransactionBuffer\n\t\t\t\t\t.createFeeVector(builder, this.fee);\n\t\t\t\tconst parentIdVector = 1 === this.namespaceType ? this.parentId : this.duration;\n\t\t\t\tconst durationParentIdVector = NamespaceCreationTransactionBuffer\n\t\t\t\t\t.createDurationParentIdVector(builder, parentIdVector);\n\t\t\t\tconst namespaceIdVector = NamespaceCreationTransactionBuffer\n\t\t\t\t\t.createNamespaceIdVector(builder, this.namespaceId);\n\n\t\t\t\tconst name = builder.createString(this.namespaceName);\n\n\t\t\t\tNamespaceCreationTransactionBuffer.startNamespaceCreationTransactionBuffer(builder);\n\t\t\t\tNamespaceCreationTransactionBuffer.addSize(builder, 138 + namespaceNameLength);\n\t\t\t\tNamespaceCreationTransactionBuffer.addSignature(builder, signatureVector);\n\t\t\t\tNamespaceCreationTransactionBuffer.addSigner(builder, signerVector);\n\t\t\t\tNamespaceCreationTransactionBuffer.addVersion(builder, this.version);\n\t\t\t\tNamespaceCreationTransactionBuffer.addType(builder, this.type);\n\t\t\t\tNamespaceCreationTransactionBuffer.addFee(builder, feeVector);\n\t\t\t\tNamespaceCreationTransactionBuffer.addDeadline(builder, deadlineVector);\n\t\t\t\tNamespaceCreationTransactionBuffer.addNamespaceType(builder, this.namespaceType);\n\t\t\t\tNamespaceCreationTransactionBuffer.addDurationParentId(builder, durationParentIdVector);\n\t\t\t\tNamespaceCreationTransactionBuffer.addNamespaceId(builder, namespaceIdVector);\n\t\t\t\tNamespaceCreationTransactionBuffer.addNamespaceNameSize(builder, namespaceNameLength);\n\t\t\t\tNamespaceCreationTransactionBuffer.addNamespaceName(builder, name);\n\n\t\t\t\t// Calculate size\n\t\t\t\tconst codedNamespace = NamespaceCreationTransactionBuffer.endNamespaceCreationTransactionBuffer(builder);\n\t\t\t\tbuilder.finish(codedNamespace);\n\n\t\t\t\tconst bytes = builder.asUint8Array();\n\t\t\t\treturn new NamespaceCreationTransaction(bytes, NamespaceCreationTransactionSchema);\n\t\t\t}\n\t\t}\n\n\t\treturn Builder;\n\t}\n}\n"]}